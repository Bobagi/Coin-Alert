{{define "partials/transactions.html"}}
    {{if .}}
        {{range .}}
        <div class="transaction-item">
            <div>
                <div class="badge {{if eq .Status "OPEN"}}buy{{else}}sell{{end}}">{{.Status}}</div>
                <div style="font-weight:700; margin-top:6px;">{{.TradingPairSymbol}}</div>
                <div class="muted">Purchased at {{.PurchaseTimestamp.Format "2006-01-02 15:04"}}</div>
                <div class="muted">Allocated {{printf "%.2f" .PurchaseValueTotal}}</div>
                {{if .BuyOrderIdentifier}}
                    <div class="muted">Buy order ID: {{.BuyOrderIdentifier}}</div>
                {{else}}
                    <div class="muted" style="color:#ef4444;">Buy order missing</div>
                {{end}}
                {{if .SellTargetPricePerUnit}}
                    <div class="muted">Target sell price {{printf "%.2f" .SellTargetPricePerUnit}}</div>
                {{end}}
                {{if .SellOrderIdentifier}}
                    <div class="muted">Sell order ID: {{.SellOrderIdentifier}}</div>
                {{else}}
                    <div class="muted" style="color:#fbbf24;">Sell order pending</div>
                {{end}}
                {{if .SellTimestamp}}
                    <div class="muted">
                        Sold at {{.SellTimestamp.Format "2006-01-02 15:04"}}{{if .SellPricePerUnit}} for {{printf "%.2f" .SellPricePerUnit}}{{end}}
                    </div>
                {{end}}
            </div>
        </div>
        {{end}}
    {{else}}
        <p class="muted">No trading operations have been recorded yet.</p>
    {{end}}
{{end}}
